### commands for processing of raw sequence data for different pipelines/tools

# basecalling ONT minION reads 
# Downloaded Guppy from nanopore administrator account
gzip -d ont-guppy-cpu_6.2.1_linux64.tar.gz

tar -xf ont-guppy-cpu_6.2.1_linux64.tar

# running guppy - need to identify the flow cell and kit used
./ont-guppy-cpu/bin/guppy_basecaller --help
./ont-guppy-cpu/bin/guppy_basecaller --print_workflows

# need all reads in the same file 
# combining nanopore reads
cat ./*.fastq > ./combined.fastq
cat ./*.fastq > ./combined2.fastq

# command for basecalling (done for both sequence reads)
./ont-guppy-cpu/bin/guppy_basecaller --input_path ./ligationseq_08062022 --save_path ./basecalling_ligationseq --cpu_threads_per_caller 60 --config dna_r9.4.1_450bps_hac.cfg

./ont-guppy-cpu/bin/guppy_basecaller --input_path ./ligationseq2_08242022 --save_path ./basecalling_ligationseq2 --cpu_threads_per_caller 60 --num_callers 3 --config dna_r9.4.1_450bps_hac.cfg

# combining all long read sequence data 
cat ./pacbio_reads/m64047_220322_210536.ccs.fastq.gz ./pacbio_reads/m64047_220522_063338.ccs.fastq.gz ./pacbio_reads/m64047_210924_101806.ccs.fastq.gz ./nanopore_reads/basecalling_ligationseq/pass/combined.fastq.gz ./nanopore_reads/basecalling_ligationseq2/pass/combined2.fastq.gz > combinedlrseq.fa.gz



# trimmomatic for removal of adapter sequences for novaseq reads
conda create -n trimmomatic
conda activate trimmomatic
conda install -c bioconda trimmomatic

trimmomatic PE -threads 64 ./02_S1_L001_R2_001.fastq.gz ./02_S1_L001_R1_001.fastq.gz ./R2_paired.fastq.gz ./R2_unpaired.fastq.gz ./R1_paired.fastq.gz ./R1_unpaired.fastq.gz ILLUMINACLIP:adapters/TruSeq3-PE.fa:2:30:10 MINLEN:50


